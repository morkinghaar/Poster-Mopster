'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = filterChildren;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * Get the given route with its children filtered using the given function.
 *
 * NOTE: Does not call render for each element, only get children from el.props.children
 * NOTE: The given route is not sent to the checkFn
 *
 * @param route   The react-router <Route /> to filter the children of
 * @param checkFn The function to check weather or not to keep the child
 *
 * @return        The react-router <Route /> without the filtered out children
 */
function filterChildren(route, checkFn) {
  var children = route.props.children;

  if (!children) return route;

  return _react2.default.cloneElement(route, {}, _react2.default.Children.toArray(children).filter(function (child) {
    return child ? checkFn(child) : false;
  }).map(function (child) {
    return filterChildren(child, checkFn);
  }));
}